extends layout
include mixins/post.pug

block b1
  .container
    if (query) 
      h3.cs-auth-title.mdc-typography--headline6 Các kết quả cho từ khoá "#{query}"
    
    if (!blogs.length)
      span.cs-auth-title.mdc-typography--headline6 Không tìm thấy kết quả nào

    if (pinPost)
      h2.mdc-typography--headline5 Bài đăng đã pin
      +renderPost(pinPost)

    h2.mdc-typography--headline5 Các bài đăng:
    +renderPost(blogs)
    
    if (page)
      .pagination-wrapper
        if (page.prev !== -1)
          a.mdc-button.mdc-button--outlined.middle-button(href=`${originalUrl}?page=${page.prev}`) Prev
        else 
          button.mdc-button.mdc-button--outlined.middle-button(disabled="true") prev
        button.mdc-button.mdc-button--outlined.middle-button= page.now
        if (page.next !== -1)
          a.mdc-button.mdc-button--outlined.last-button(href=`${originalUrl}?page=${page.next}`) Next
        else 
          button.mdc-button.mdc-button--outlined.last-button(disabled="true") Next

    if (currentUser)
      .mdc-dialog.non-search(role="alertdialog")
        .mdc-dialog__container
          .mdc-dialog__surface
            h2.mdc-dialog__title Xác nhận
            .mdc-dialog__content Bạn có chắc chắn?
            footer.mdc-dialog__actions
              button.mdc-button.mdc-dialog__button(data-mdc-dialog-action="close") Cancel
              form(action="", method="post", id="dialog-form")
                button.mdc-button.mdc-dialog__button(type="submit", data-mdc-dialog-action="accept") OK
        .mdc-dialog__scrim